<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="This webpage is created to find LDU Factorization of a matrix">
	<title>LDU Factorization</title>
	<link rel="stylesheet" href="styles.css">
	
</head>

<body>
	<div id="heading-h1">
		<h1 align="center">LDU Factorization</h1>
	</div>


	<div id="label">
		<label for="val">Enter the order of the matrix:</label>
		<input type="number" id="val" name="val" class="input-tags"></input>
		<p id="error"></p>
	</div>

	<div id="input-matrix-container"></div>

	<div id="main-div"></div>
	
	<div id="result-div">
		<br>
	</div>
	<script>
val=document.getElementById("val")
val.addEventListener("input",iferror)
function iferror(){
    val=document.getElementById("val").value;
    main_div=document.getElementById("input-matrix-container");
	main_div.innerHTML="";
    error=document.getElementById("error");
    error.innerHTML=""
    if (val<=0 ){
        error.textContent="Order of the matrix cannot be less than or equal to 0";
        error.style.color="red";
    }
    else{
        create_matrix()
    }

}


function decompose(){
    result_div = document.getElementById("result-div");
    result_div.innerHTML = "<h3>Entered Matrix:</h3>";
    for (i=1;i<=(val);i++){
		const br=document.createElement("br")
		result_div.appendChild(br)
        document.body.appendChild(result_div);
		for (j=1;j<=(val);j++){
			const input1=document.createElement("input");
			input1.style.backgroundColor="white";
			input1.style.borderColor="black";
			input1.style.borderWidth="1px";
            input1.readOnly=true;
            inp_val=document.getElementById(`inp${i}${j}`).value;
            input1.value=inp_val
			input1.setAttribute("id",`inp${i}${j}`);
			input1.setAttribute("class","input-tags");
			input1.setAttribute("type","number");
			result_div.appendChild(input1);
			document.body.appendChild(result_div);

	}
	}
}

function create_matrix(){
    val=document.getElementById("val").value;
    i_m_c=document.getElementById("input-matrix-container");
    main_div=document.getElementById("main-div");
    i_m_c.innerHTML="";
    main_div.innerHTML="";
    console.log("Cleared")
    for (i=1;i<=(val);i++){
		const br=document.createElement("br")
		i_m_c.appendChild(br)
        document.body.appendChild(i_m_c);
		for (j=1;j<=(val);j++){
			const input1=document.createElement("input");
			input1.style.backgroundColor="white";
			input1.style.borderColor="black";
			input1.style.borderWidth="1px";
			input1.setAttribute("id",`inp${i}${j}`);
			input1.setAttribute("class","input-tags");
			input1.setAttribute("type","number");
			i_m_c.appendChild(input1);
			document.body.appendChild(i_m_c);

	}
	}
    if (val>=2){
        const br=document.createElement("br");
        i_m_c.appendChild(br);
        const br1=document.createElement("br");
        i_m_c.appendChild(br1);
        const decompose_button=document.createElement("button");
        decompose_button.textContent="Decompose";
        decompose_button.setAttribute("id","btn-decompose");
        decompose_button.onclick=decompose;
        i_m_c.appendChild(decompose_button);
        document.body.appendChild(i_m_c);
    }

}
	</script>


</body>
</html>

